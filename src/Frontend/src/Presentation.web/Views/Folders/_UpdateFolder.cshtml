@using DTOs
@using Presentation.web.Models.ViewModels
@model FolderViewModel

<form id="updateFolderForm" class="dialog-content" asp-controller="Folders" asp-action="UpdateFolder" method="post">
    <input id="updateFolderId" type="text" name="FolderId" value="" asp-for="FolderId" hidden />
    <div class="title">Update folder</div> <!-- Title -->

    <div class="input">
        <!-- Folder Name-->
        <input type="text"
               id="UpdateFolderName"
               class="input-text"
               name="FolderName"
               placeholder="Name"
               autocomplete="off"
               asp-for="FolderName" />
        <div id="fileNameMessage" class="input-message" role="alert"></div>
    </div>

    <div class="subtitle">Add tag:</div>
    <div class="add-tag" id="addTag">
        <div class="new-tag">
            <div class="searchTag">
                <div class="input">
                    <!-- Tag Name -->
                    <input id="updateTagName"
                           class="input-text"
                           type="text"
                           placeholder="Tag name"
                           autocomplete="off" />
                </div>

                <ul id="updateFolderSelectMenu" class="select-menu">
                    @if (Model.Tags != null)
                    {
                        @foreach (TagDto tag in Model.Tags)
                        {
                            <li data-value="tag">
                                <div id="@tag.TagId" class="tag" style="--tag-color: @tag.Color">@tag.TagContent</div>
                            </li>
                        }
                    }
                </ul>
            </div>
            <input id="updateFolderTagColor" value="#ff0000" type="color" /> <!-- Color Picker -->
            <button id="updateFolderAddTagBtn" class="button primary-button" type="button">
                <!-- Created tag button -->
                <svg xmlns="http://www.w3.org/2000/svg"
                     width="18"
                     height="18"
                     viewBox="2 0 20 20"
                     fill="none"
                     stroke="currentColor"
                     stroke-width="2"
                     stroke-linecap="round"
                     stroke-linejoin="round"
                     class="icon icon-tabler icons-tabler-outline icon-tabler-plus">
                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                    <path d="M12 5l0 14" />
                    <path d="M5 12l14 0" />
                </svg>
            </button>
        </div>
    </div>

    <div class="tag-section">
        <!-- Here are the tags that the folder will have when it is created -->
        <div id="updateTagsContainer" class="tags"></div>
    </div>

    <input type="hidden" id="updateTagList" name="tagList" asp-for="Taglist" /> <!-- this input is used to send a JSON to the controller -->

    <div class="buttonContainer">
        <button id="updateFoldersaveBtn" class="button primary-button" type="submit">Update Folder</button>
        <button id="updateFolderCancelBtn" class="button primary-button" type="button">Cancelar</button>
    </div>
</form>

